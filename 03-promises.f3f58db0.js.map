{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,UAG/BH,EAAKC,KAAKG,iBAAiB,UAW3B,SAAuBC,GACrBA,EAAMC,iBACNC,EAASC,OAAOR,EAAKC,KAAKQ,SAASC,OAAOC,OAC1CC,EAAQJ,OAAOR,EAAKC,KAAKQ,SAASI,MAAMF,OACxCG,EAAON,OAAOR,EAAKC,KAAKQ,SAASM,KAAKJ,OAEtCK,YAAW,KACbC,EAAeL,EAAQE,EACnBI,EAAUC,aAAY,KAEtB,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,GAAY,EACZX,GAASE,EACLM,GACFI,EAAA1B,GAAS2B,OAAOC,QAAQ,qBAAqBH,QAAeX,OAC5De,QAAQC,IAAI,uBAAqBL,QAAiBX,SAElDY,EAAA1B,GAAS2B,OAAOI,QAAQ,oBAAoBN,QAAeX,OAC3De,QAAQC,IAAI,sBAAoBL,QAAeX,QAE7CW,IAAahB,GACfuB,cAAcZ,EAAQ,GAErBD,EAAa,GAEhBL,E,IAlCJ,IAAIM,EAAU,KACVK,EAAW,EACXT,EAAO,EACPF,EAAQ,EACRL,EAAS,EACTU,EAAe","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form: document.querySelector('.form'),\n};\n\nrefs.form.addEventListener('submit', createPromise);\n\nlet timerId = null;\nlet position = 0;\nlet step = 0;\nlet delay = 0;\nlet amount = 0;\nlet currentDelay = 0;\n\n\n\nfunction createPromise(event) {\n  event.preventDefault();\n  amount = Number(refs.form.elements.amount.value);\n  delay = Number(refs.form.elements.delay.value);\n  step = Number(refs.form.elements.step.value);\n  \n  setTimeout(() => {\ncurrentDelay = delay + step;\n    timerId = setInterval(() => {\n    \n    const shouldResolve = Math.random() > 0.3;\n    position += 1;\n    delay += step;\n    if (shouldResolve) {\n      Notiflix.Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    } else {\n      Notiflix.Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    }\n    if (position === amount) {\n      clearInterval(timerId);\n    }\n    }, currentDelay)\n    \n  },delay)\n  \n  \n}\n\n\n\n\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","addEventListener","event","preventDefault","$47d4ff9957288465$var$amount","Number","elements","amount","value","$47d4ff9957288465$var$delay","delay","$47d4ff9957288465$var$step","step","setTimeout","$47d4ff9957288465$var$currentDelay","$47d4ff9957288465$var$timerId","setInterval","shouldResolve","Math","random","$47d4ff9957288465$var$position","$parcel$interopDefault","Notify","success","console","log","failure","clearInterval"],"version":3,"file":"03-promises.f3f58db0.js.map"}