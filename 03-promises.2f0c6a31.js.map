{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,UAG/BH,EAAKC,KAAKG,iBAAiB,UAW3B,SAAuBC,GACrBA,EAAMC,iBACNC,EAASC,OAAOR,EAAKC,KAAKQ,SAASC,OAAOC,OAC1CC,EAAQJ,OAAOR,EAAKC,KAAKQ,SAASI,MAAMF,OACxCG,EAAON,OAAOR,EAAKC,KAAKQ,SAASM,KAAKJ,OAEtCK,YAAW,WAETC,EAAUC,aAAY,WAEtB,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,GAAY,EACZV,GAASE,EACLK,GACFI,EAAAzB,GAAS0B,OAAOC,QAAQ,qBAAoCC,OAAfJ,EAAS,QAAYI,OAANd,EAAM,OAClEe,QAAQC,IAAI,uBAAwCF,OAAfJ,EAAS,QAAYI,OAANd,EAAM,SAE1DW,EAAAzB,GAAS0B,OAAOK,QAAQ,oBAAmCH,OAAfJ,EAAS,QAAYI,OAANd,EAAM,OACjEe,QAAQC,IAAI,sBAAqCF,OAAfJ,EAAS,QAAYI,OAANd,EAAM,QAErDU,IAAaf,GACfuB,cAAcb,E,GAdLL,EAAQE,E,GAkBnBF,E,IAlCJ,IAAIK,EAAU,KACVK,EAAW,EACXR,EAAO,EACPF,EAAQ,EACRL,EAAS,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form: document.querySelector('.form'),\n};\n\nrefs.form.addEventListener('submit', createPromise);\n\nlet timerId = null;\nlet position = 0;\nlet step = 0;\nlet delay = 0;\nlet amount = 0;\nlet currentDelay = 0;\n\n\n\nfunction createPromise(event) {\n  event.preventDefault();\n  amount = Number(refs.form.elements.amount.value);\n  delay = Number(refs.form.elements.delay.value);\n  step = Number(refs.form.elements.step.value);\n  \n  setTimeout(() => {\ncurrentDelay = delay + step;\n    timerId = setInterval(() => {\n    \n    const shouldResolve = Math.random() > 0.3;\n    position += 1;\n    delay += step;\n    if (shouldResolve) {\n      Notiflix.Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n      console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    } else {\n      Notiflix.Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n      console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    }\n    if (position === amount) {\n      clearInterval(timerId);\n    }\n    }, currentDelay)\n    \n  },delay)\n  \n  \n}\n\n\n\n\n\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","addEventListener","event","preventDefault","$ce04d3a99e08e73b$var$amount","Number","elements","amount","value","$ce04d3a99e08e73b$var$delay","delay","$ce04d3a99e08e73b$var$step","step","setTimeout","$ce04d3a99e08e73b$var$timerId","setInterval","shouldResolve","Math","random","$ce04d3a99e08e73b$var$position","$parcel$interopDefault","Notify","success","concat","console","log","failure","clearInterval"],"version":3,"file":"03-promises.2f0c6a31.js.map"}